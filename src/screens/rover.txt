import React from 'react';
import {SafeAreaView, View, Image, Text} from 'react-native';
import {Loading, Btn} from '@components';
import {AppContext} from '@navigation/AppProvider';

type Camera = {
  id: string;
  name: string;
};

const cameras = [
  {id: 'FHAZ', name: 'Front Hazard Avoidance Camera	'},
  {id: 'RHAZ', name: 'Rear Hazard Avoidance Camera	'},
  {id: 'MAST', name: 'Mast Camera	'},
  {id: 'CHEMCAM', name: 'Chemistry and Camera Complex	'},
  {id: 'MAHLI', name: 'Mars Hand Lens Imager	'},
  {id: 'MARDI', name: 'Mars Descent Imager	'},
  {id: 'NAVCAM', name: 'Navigation Camera	'},
  {id: 'PANCAM', name: 'Panoramic Camera	'},
  {id: 'MINITES', name: 'Miniature Thermal Emission Spectrometer (Mini-TES)	'},
];

const RoverScreen = ({navigation, route}: any) => {
  console.log(route);

  const {styles} = React.useContext(AppContext),
    [loading, setLoading] = React.useState(true);

  React.useEffect(() => {
    setTimeout(() => {
      setLoading(false);
    }, 1000);
  }, []);

  return loading ? (
    <Loading />
  ) : (
    <SafeAreaView style={styles.container} testID="RoverScreen">
      <Image
        style={styles.rover}
        source={require('@assets/images/Mars-Rover-2020.jpg')}
      />
      {cameras.map(({id, name}: Camera) => (
        <View key={id}>
          <Btn
            label={name}
            icon="camera"
            onPress={() =>
              navigation.navigate('Photos', {
                id,
                name,
              })
            }
          />
        </View>
      ))}
    </SafeAreaView>
  );
};

export default RoverScreen;
